# دليل نشر مشروع نظام شكاوي فزاع

يمكنك نشر هذا المشروع وجعله متاحاً للجميع باستخدام عدة طرق. بما أن المشروع يستخدم قاعدة بيانات SQLite (ملف محلي)، فإن الخيار الأفضل هو استخدام خادم افتراضي (VPS) أو خدمة تدعم التخزين الدائم (Persistent Storage).

## الخيار الأول: النشر باستخدام Docker (موصى به للسهولة)

لقد قمت بإضافة ملف `Dockerfile` للمشروع، مما يسهل عملية النشر جداً.

### 1. استخدام خدمة Railway (الأسهل)
1. قم برفع المشروع على GitHub.
2. أنشئ حساباً على [Railway.app](https://railway.app).
3. اختر "New Project" ثم "Deploy from GitHub repo".
4. اختر مستودع المشروع الخاص بك.
5. سيقوم Railway تلقائياً باكتشاف الـ Dockerfile وبناء المشروع.
6. **مهم جداً**: لكي لا تفقد البيانات (الشكاوي والمستخدمين) عند إعادة تشغيل الخادم، يجب عليك إضافة "Volume" (قرص تخزين) وربطه بالمسار الذي توجد به قاعدة البيانات (عادة المجلد الرئيسي أو مجلد محدد).

### 2. استخدام خدمة Render
1. أنشئ حساباً على [Render.com](https://render.com).
2. اختر "New Web Service".
3. اربط حساب GitHub واختر المستودع.
4. اختر الـ Runtime ليكون **Docker**.
5. **تنبيه**: في الخطة المجانية لـ Render، سيتم حذف قاعدة البيانات (ملف .db) في كل مرة تعيد فيها نشر المشروع لأن الملفات مؤقتة. للحفاظ على البيانات، تحتاج إلى خطة مدفوعة تدعم "Render Disks".

---

## الخيار الثاني: النشر على خادم خاص (VPS) - مثل DigitalOcean أو Hetzner

هذا الخيار يمنحك تحكماً كاملاً وهو الأفضل للمشاريع التي تستخدم SQLite لضمان عدم ضياع البيانات.

### الخطوات:

1. **حجز خادم (Server):**
   - قم بشراء خادم بسيط (Ubuntu 22.04 أو 24.04) من أي مزود (DigitalOcean, Linode, AWS, Hetzner).

2. **تجهيز الخادم:**
   - اتصل بالخادم عن طريق SSH.
   - ثبت Node.js (الإصدار 20):
     ```bash
     curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
     sudo apt-get install -y nodejs
     ```

3. **نقل الملفات:**
   - يمكنك رفع الملفات باستخدام Git:
     ```bash
     git clone <رابط المستودع الخاص بك>
     cd <اسم المجلد>
     ```

4. **التثبيت والبناء:**
   ```bash
   npm install
   npm run build
   ```

5. **تشغيل التطبيق:**
   - يفضل استخدام `pm2` لإبقاء التطبيق يعمل دائماً:
     ```bash
     sudo npm install -g pm2
     pm2 start npm --name "fazza-app" -- start
     pm2 save
     pm2 startup
     ```

6. **فتح المنفذ (Port):**
   - التطبيق يعمل على المنفذ 5000. تأكد من فتح هذا المنفذ في الجدار الناري (Firewall) أو استخدم Nginx كـ Reverse Proxy لتوجيه المنفذ 80 إلى 5000 (وهو الأفضل).

---

## ملاحظة هامة بخصوص قاعدة البيانات

حالياً المشروع يستخدم **SQLite** (`better-sqlite3`).
- **الميزة**: سريع جداً ولا يحتاج إعدادات معقدة.
- **العيب**: البيانات تخزن في ملف داخل مجلد المشروع. في بعض خدمات الاستضافة السحابية (Serverless)، يتم مسح الملفات عند إعادة التشغيل.
- **الحل**: استخدم VPS (الخيار الثاني) أو تأكد من استخدام "Volumes" في Docker.

إذا أردت الانتقال إلى قاعدة بيانات سحابية (مثل PostgreSQL على Neon أو Supabase)، ستحتاج إلى تعديل بسيط في ملف `server/db.ts` وإعدادات الاتصال.
